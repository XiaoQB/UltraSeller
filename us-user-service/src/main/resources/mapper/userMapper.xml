<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user.mapper.UserMapper">


    <insert id="insertAdmin">
        insert into us_admin(username,password)
        values(#{userName},#{password})
    </insert>
    <insert id="insertSaler">
        insert into us_saler(username,password,phone,email)
        values(#{userName},#{password},#{phone},#{email})
    </insert>
    <insert id="insertBuyer">
        insert into us_buyer(username,password,phone,email)
        values(#{userName},#{password},#{phone},#{email})
    </insert>
    <select id="isExistAdmin" resultType="java.lang.Integer" parameterType="java.lang.String">
        select count(id) from us_admin
        where username = #{userName}
    </select>
    <select id="isExistSaler" resultType="java.lang.Integer" parameterType="java.lang.String">
        select count(id) from us_saler
        where username = #{userName}
    </select>
    <select id="isExistBuyer" resultType="java.lang.Integer" parameterType="java.lang.String">
        select count(id) from us_buyer
        where username = #{userName}
    </select>

    <select id="getAdminByName" resultType="user.domain.entity.User" parameterType="java.lang.String">

    </select>
    <select id="getBuyerByName" resultType="user.domain.entity.User" parameterType="java.lang.String">
        select username,password
        from us_buyer where username = #{userName}
    </select>
    <select id="getSalerByName" resultType="user.domain.entity.User" parameterType="java.lang.String"></select>

    <select id="getAdmins" resultType="user.domain.entity.Admin">
        select *
        from ultra_seller.us_admin
        limit #{page},#{num}
    </select>

    <select id="getBuyers" resultType="user.domain.entity.User">
        select *
        from ultra_seller.us_buyer
        limit #{page},#{num}
    </select>

    <select id="getSalers" resultType="user.domain.entity.User">
        select *
        from ultra_seller.us_saler
        limit #{page},#{num}
    </select>

    <delete id="deleteAdmin" parameterType="java.lang.String" >
         delete from ultra_seller.us_admin
         where username=${username}
    </delete>

    <delete id="deleteBuyer" parameterType="java.lang.String" >
        delete from ultra_seller.us_buyer
        where username=${username}
    </delete>

    <delete id="deleteSaler" parameterType="java.lang.String" >
        delete from ultra_seller.us_saler
        where username=${username}
    </delete>


</mapper>
